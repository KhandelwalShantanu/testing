{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Noty from \"noty\";\nimport axios from \"axios\";\nimport { mapMutations } from \"vuex\";\nimport { mapState } from \"vuex\";\nimport router from \"@/router\";\n// import PulseLoader from 'vue-spinner/src/PulseLoader.vue'\nexport default {\n  components: {\n    // PulseLoader\n  },\n  name: 'loginView',\n  data() {\n    return {\n      email: '',\n      pswd: '',\n      loading: false\n    };\n  },\n  computed: {\n    ...mapState(['authToken', 'authUser'])\n  },\n  methods: {\n    ...mapMutations(['setAuthToken', 'setAuthUser']),\n    doLogin(e) {\n      e.preventDefault();\n      if (!this.email) {\n        new Noty({\n          type: 'warning',\n          text: 'Please enter email',\n          timeout: 3000\n        }).show();\n      } else if (!this.pswd) {\n        new Noty({\n          type: 'warning',\n          text: 'Please enter password',\n          timeout: 3000\n        }).show();\n      } else {\n        // this.loading = true\n        axios.post('http://127.0.0.1:8000/api/login/', {\n          \"username\": this.email,\n          \"password\": this.pswd\n        }).then(response => {\n          if (response.data.status == 'Success') {\n            new Noty({\n              type: 'success',\n              text: response.data.message,\n              timeout: 1000\n              // onClose: function () {\n              //    router.push({name: 'dashBoard'});\n              // } \n            }).show();\n            this.storeAuthToken(response.headers['token'], response.data.user);\n            setTimeout(() => {\n              router.push({\n                name: 'dashBoard'\n              });\n            }, 1000);\n          } else if (response.data.status == 'Failed') {\n            new Noty({\n              type: 'error',\n              text: response.data.message,\n              timeout: 3000\n            }).show();\n          }\n        }).catch(() => {\n          // console.log(error)\n        });\n      }\n    },\n    storeAuthToken(token, user) {\n      if (token !== 'undefined') {\n        // console.log(token, '------')\n        this.setAuthToken(token);\n        this.setAuthUser(user);\n        // console.log(this.authToken, this.authUser)\n      }\n    }\n  }\n};","map":{"version":3,"names":["Noty","axios","mapMutations","mapState","router","components","name","data","email","pswd","loading","computed","methods","doLogin","e","preventDefault","type","text","timeout","show","post","then","response","status","message","storeAuthToken","headers","user","setTimeout","push","catch","token","setAuthToken","setAuthUser"],"sources":["C:\\adsgrill\\frontend\\src\\views\\auth\\loginView.vue"],"sourcesContent":["<template>\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n      <title>Webkit | Responsive Bootstrap 4 Admin Dashboard Template</title>\r\n      \r\n      <!-- Favicon -->\r\n      <link rel=\"shortcut icon\" href=\"./assets/images/favicon.ico\" />\r\n      <link rel=\"stylesheet\" href=\"./assets/css/backend-plugin.min.css\" type=\"text/css\">\r\n      <link rel=\"stylesheet\" href=\"./assets/css/backend.css\" type=\"text/css\">\r\n      <link rel=\"stylesheet\" href=\"./assets/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css\" type=\"text/css\">\r\n      <link rel=\"stylesheet\" href=\"./assets/vendor/remixicon/fonts/remixicon.css\" type=\"text/css\">\r\n      \r\n      <link rel=\"stylesheet\" href=\"./assets/vendor/tui-calendar/tui-calendar/dist/tui-calendar.css\" type=\"text/css\">\r\n      <link rel=\"stylesheet\" href=\"./assets/vendor/tui-calendar/tui-date-picker/dist/tui-date-picker.css\" type=\"text/css\">\r\n      <link rel=\"stylesheet\" href=\"./assets/vendor/tui-calendar/tui-time-picker/dist/tui-time-picker.css\" type=\"text/css\">\r\n      <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/noty@3.2.0-beta-deprecated/lib/noty.css\">\r\n      <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/noty@3.2.0-beta-deprecated/lib/themes/mint.css\">\r\n    </head>\r\n  <body class=\" \">\r\n    <!-- loader Start -->\r\n    <!-- <div id=\"loading\">\r\n          <div id=\"loading-center\">\r\n          </div>\r\n    </div> -->\r\n    <!-- loader END -->\r\n    \r\n      <div class=\"wrapper\">\r\n      <section class=\"login-content\">\r\n         <div class=\"container\">\r\n            <div class=\"row align-items-center justify-content-center height-self-center\">\r\n               <div class=\"col-lg-8\">\r\n                  <div class=\"card auth-card\">\r\n                     <div class=\"card-body p-0\">\r\n                        <div class=\"d-flex align-items-center auth-content\">\r\n                           <div class=\"col-lg-6 bg-primary content-left\">\r\n                              <div class=\"p-3\">\r\n                                 <h2 class=\"mb-2 text-white\">Sign In</h2>\r\n                                 <p>Login to stay connected.</p>\r\n                                 <form>\r\n                                    <div class=\"row\">\r\n                                       <div class=\"col-lg-12\">\r\n                                          <div class=\"floating-label form-group\">\r\n                                             <input v-model=\"email\" class=\"floating-input form-control\" type=\"email\" placeholder=\" \" >\r\n                                             <label>Email</label>\r\n                                          </div>\r\n                                       </div>\r\n                                       <div class=\"col-lg-12\">\r\n                                          <div class=\"floating-label form-group\">\r\n                                             <input v-model=\"pswd\" class=\"floating-input form-control\" type=\"password\" placeholder=\" \">\r\n                                             <label>Password</label>\r\n                                          </div>\r\n                                       </div>\r\n                                       <div class=\"col-lg-6\">\r\n                                          <div class=\"custom-control custom-checkbox mb-3\">\r\n                                             <input type=\"checkbox\" class=\"custom-control-input\" id=\"customCheck1\">\r\n                                             <label class=\"custom-control-label control-label-1 text-white\" for=\"customCheck1\">Remember Me</label>\r\n                                          </div>\r\n                                       </div>\r\n                                       <div class=\"col-lg-6\">\r\n                                          <a href=\"auth-recoverpw.html\" class=\"text-white float-right\">Forgot Password?</a>\r\n                                       </div>\r\n                                    </div>\r\n                                    <button class=\"btn btn-white float-center\" @click=\"doLogin($event)\">Sign In</button>\r\n\r\n                                 </form>\r\n                              </div>\r\n                           </div>\r\n                           <div class=\"col-lg-6 content-right\">\r\n                              <img src=\"assets/images/login/01.png\" class=\"img-fluid image-right\" alt=\"\">\r\n                           </div>\r\n                           <!-- <PulseLoader v-if=\"loading\" color=\"#42b983\" size=\"30px\" /> -->\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </section>\r\n      </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport Noty from \"noty\"\r\nimport axios from \"axios\"\r\nimport { mapMutations } from \"vuex\";\r\nimport { mapState } from \"vuex\";\r\nimport router from \"@/router\";\r\n// import PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\nexport default {\r\n   components:{\r\n      // PulseLoader\r\n   },\r\n  name: 'loginView',\r\n  data(){\r\n   return{\r\n      email:'',\r\n      pswd:'',\r\n      loading: false,\r\n   }\r\n  },\r\n  computed:{\r\n   ...mapState(['authToken', 'authUser'])\r\n  },\r\n  methods:{\r\n   ...mapMutations(['setAuthToken', 'setAuthUser']),\r\n   doLogin(e){\r\n      e.preventDefault();\r\n      if(!this.email){\r\n         new Noty({\r\n            type: 'warning',\r\n            text: 'Please enter email',\r\n            timeout: 3000\r\n         }).show();\r\n      }\r\n      else if(!this.pswd){\r\n         new Noty({\r\n            type: 'warning',\r\n            text: 'Please enter password',\r\n            timeout: 3000\r\n         }).show();\r\n      }\r\n      else{\r\n         // this.loading = true\r\n         axios.post('http://127.0.0.1:8000/api/login/', {\r\n            \"username\": this.email,\r\n            \"password\": this.pswd\r\n         }).then((response)=>{\r\n            if(response.data.status == 'Success'){\r\n               new Noty({\r\n                  type: 'success',\r\n                  text: response.data.message,\r\n                  timeout: 1000,\r\n                  // onClose: function () {\r\n                  //    router.push({name: 'dashBoard'});\r\n                  // } \r\n               }).show()\r\n               this.storeAuthToken(response.headers['token'], response.data.user)\r\n               setTimeout(() => {\r\n                  router.push({name: 'dashBoard'})\r\n               }, 1000);\r\n            }\r\n            else if(response.data.status == 'Failed'){\r\n               new Noty({\r\n                  type:'error',\r\n                  text: response.data.message,\r\n                  timeout: 3000\r\n               }).show()\r\n            }\r\n         }).catch(()=>{\r\n            // console.log(error)\r\n         })\r\n      }\r\n   },\r\n   storeAuthToken(token,user){\r\n      if(token !== 'undefined'){\r\n      // console.log(token, '------')\r\n      this.setAuthToken(token)\r\n      this.setAuthUser(user)\r\n      // console.log(this.authToken, this.authUser)\r\n      }\r\n   },\r\n  },\r\n}\r\n</script>"],"mappings":";AAoFA,OAAOA,IAAG,MAAO,MAAK;AACtB,OAAOC,KAAI,MAAO,OAAM;AACxB,SAASC,YAAW,QAAS,MAAM;AACnC,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,MAAK,MAAO,UAAU;AAC7B;AACA,eAAe;EACZC,UAAU,EAAC;IACR;EAAA,CACF;EACFC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IACL,OAAM;MACHC,KAAK,EAAC,EAAE;MACRC,IAAI,EAAC,EAAE;MACPC,OAAO,EAAE;IACZ;EACD,CAAC;EACDC,QAAQ,EAAC;IACR,GAAGR,QAAQ,CAAC,CAAC,WAAW,EAAE,UAAU,CAAC;EACtC,CAAC;EACDS,OAAO,EAAC;IACP,GAAGV,YAAY,CAAC,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;IAChDW,OAAOA,CAACC,CAAC,EAAC;MACPA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB,IAAG,CAAC,IAAI,CAACP,KAAK,EAAC;QACZ,IAAIR,IAAI,CAAC;UACNgB,IAAI,EAAE,SAAS;UACfC,IAAI,EAAE,oBAAoB;UAC1BC,OAAO,EAAE;QACZ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MACZ,OACK,IAAG,CAAC,IAAI,CAACV,IAAI,EAAC;QAChB,IAAIT,IAAI,CAAC;UACNgB,IAAI,EAAE,SAAS;UACfC,IAAI,EAAE,uBAAuB;UAC7BC,OAAO,EAAE;QACZ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MACZ,OACI;QACD;QACAlB,KAAK,CAACmB,IAAI,CAAC,kCAAkC,EAAE;UAC5C,UAAU,EAAE,IAAI,CAACZ,KAAK;UACtB,UAAU,EAAE,IAAI,CAACC;QACpB,CAAC,CAAC,CAACY,IAAI,CAAEC,QAAQ,IAAG;UACjB,IAAGA,QAAQ,CAACf,IAAI,CAACgB,MAAK,IAAK,SAAS,EAAC;YAClC,IAAIvB,IAAI,CAAC;cACNgB,IAAI,EAAE,SAAS;cACfC,IAAI,EAAEK,QAAQ,CAACf,IAAI,CAACiB,OAAO;cAC3BN,OAAO,EAAE;cACT;cACA;cACA;YACH,CAAC,CAAC,CAACC,IAAI,CAAC;YACR,IAAI,CAACM,cAAc,CAACH,QAAQ,CAACI,OAAO,CAAC,OAAO,CAAC,EAAEJ,QAAQ,CAACf,IAAI,CAACoB,IAAI;YACjEC,UAAU,CAAC,MAAM;cACdxB,MAAM,CAACyB,IAAI,CAAC;gBAACvB,IAAI,EAAE;cAAW,CAAC;YAClC,CAAC,EAAE,IAAI,CAAC;UACX,OACK,IAAGgB,QAAQ,CAACf,IAAI,CAACgB,MAAK,IAAK,QAAQ,EAAC;YACtC,IAAIvB,IAAI,CAAC;cACNgB,IAAI,EAAC,OAAO;cACZC,IAAI,EAAEK,QAAQ,CAACf,IAAI,CAACiB,OAAO;cAC3BN,OAAO,EAAE;YACZ,CAAC,CAAC,CAACC,IAAI,CAAC;UACX;QACH,CAAC,CAAC,CAACW,KAAK,CAAC,MAAI;UACV;QAAA,CACF;MACJ;IACH,CAAC;IACDL,cAAcA,CAACM,KAAK,EAACJ,IAAI,EAAC;MACvB,IAAGI,KAAI,KAAM,WAAW,EAAC;QACzB;QACA,IAAI,CAACC,YAAY,CAACD,KAAK;QACvB,IAAI,CAACE,WAAW,CAACN,IAAI;QACrB;MACA;IACH;EACD;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}