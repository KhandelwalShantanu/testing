{"ast":null,"code":"import axios from 'axios';\nimport Noty from 'noty';\nimport { mapState } from 'vuex';\n// import { timestamp } from 'public/assets/vendor/tui-calendar/tui-code-snippet/src/js/tricks';\nexport default {\n  data() {\n    return {\n      name: '',\n      email: '',\n      role: '3',\n      contact_no: '',\n      designation: 'Full stack developer',\n      pincode: '',\n      password: '',\n      isToggled: false,\n      isAreaModal: false,\n      displayToggle: 'none',\n      users: [],\n      headers: ['Profile', 'Name', 'Designation', 'Department', 'Contact No.', 'Pincode', 'Actions']\n    };\n  },\n  computed: {\n    ...mapState(['authUser'])\n  },\n  methods: {\n    openModal() {\n      this.displayToggle = 'block';\n      this.isToggled = !this.isToggled;\n    },\n    createUser() {\n      const requestData = {\n        email: this.email,\n        name: this.name,\n        role: this.role,\n        contact_no: this.contact_no,\n        designation: this.designation,\n        pincode: this.pincode,\n        password: this.password\n      };\n      axios.post('http://127.0.0.1:8000/api/create/user/', requestData).then(r => {\n        console.log(r.status);\n        if (r.status == 201) {\n          new Noty({\n            type: 'success',\n            text: 'user Created Successfully',\n            timeout: 500\n          }).show();\n        }\n        this.getUsers;\n        this.closeModal;\n      });\n    },\n    closeModal() {\n      this.displayToggle = 'none';\n      this.isToggled = !this.isToggled;\n    },\n    getUsers(role) {\n      console.log(role);\n      axios.get('http://127.0.0.1:8000/api/users/', {\n        params: {\n          role: role\n        }\n      }).then(r => {\n        this.users = r.data.users;\n      });\n    }\n  },\n  watch: {\n    '$route.params.val': 'getUsers'\n  },\n  created() {\n    this.getUsers(this.$route.params.val);\n  }\n};","map":{"version":3,"names":["axios","Noty","mapState","data","name","email","role","contact_no","designation","pincode","password","isToggled","isAreaModal","displayToggle","users","headers","computed","methods","openModal","createUser","requestData","post","then","r","console","log","status","type","text","timeout","show","getUsers","closeModal","get","params","watch","created","$route","val"],"sources":["C:\\adsgrill\\frontend\\src\\components\\getEmployees.vue"],"sourcesContent":["<template>\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n        <title>Webkit | Responsive Bootstrap 4 Admin Dashboard Template</title>\r\n\r\n        <!-- Favicon -->\r\n        <link rel=\"shortcut icon\" href=\"./assets/images/favicon.ico\" />\r\n        <link rel=\"stylesheet\" href=\"./assets/css/backend-plugin.min.css\">\r\n        <link rel=\"stylesheet\" href=\"./assets/css/backend.css?v=1.0.0\">\r\n        <link rel=\"stylesheet\" href=\"./assets/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css\">\r\n        <link rel=\"stylesheet\" href=\"./assets/vendor/remixicon/fonts/remixicon.css\">\r\n\r\n        <link rel=\"stylesheet\" href=\"./assets/vendor/tui-calendar/tui-calendar/dist/tui-calendar.css\">\r\n        <link rel=\"stylesheet\" href=\"./assets/vendor/tui-calendar/tui-date-picker/dist/tui-date-picker.css\">\r\n        <link rel=\"stylesheet\" href=\"./assets/vendor/tui-calendar/tui-time-picker/dist/tui-time-picker.css\">\r\n        <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/noty@3.2.0-beta-deprecated/lib/noty.css\">\r\n        <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/noty@3.2.0-beta-deprecated/lib/themes/mint.css\">\r\n    </head>\r\n    <div class=\"wrapper\">\r\n        <div class=\"content-page\">\r\n            <div class=\"container-fluid\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-12\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"d-flex flex-wrap align-items-center justify-content-between breadcrumb-content\">\r\n                                    <h5>Employees</h5>\r\n                                    <div class=\"d-flex align-items-center\">\r\n                                        <div class=\"list-grid-toggle d-flex align-items-center mr-3\">\r\n                                            <div data-toggle-extra=\"tab\" data-target-extra=\"#list\" class=\"active\">\r\n                                                <!-- <div class=\"grid-icon\">\r\n                                            <svg  width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                                                <line x1=\"21\" y1=\"10\" x2=\"3\" y2=\"10\"></line><line x1=\"21\" y1=\"6\" x2=\"3\" y2=\"6\"></line><line x1=\"21\" y1=\"14\" x2=\"3\" y2=\"14\"></line><line x1=\"21\" y1=\"18\" x2=\"3\" y2=\"18\"></line>\r\n                                            </svg>\r\n                                        </div> -->\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"pl-3 border-left btn-new\">\r\n                                            <a href=\"#\" class=\"btn btn-primary\" data-target=\"#new-user-modal\"\r\n                                                data-toggle=\"modal\">Create Role</a>\r\n                                        </div>\r\n                                        <div v-if=\"authUser.role == 'development'\" class=\"pl-3 btn-new\">\r\n                                            <a href=\"#\" class=\"btn btn-primary\" data-target=\"#new-user-modal\"\r\n                                                data-toggle=\"modal\" @click=\"openModal\">Create User</a>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal fade bd-example-modal-lg\" :class=\"{ 'show': isToggled }\" role=\"dialog\" aria-modal=\"true\"\r\n                    id=\"new-user-modal\" :style=\"{ 'display': displayToggle }\">\r\n                    <div class=\"modal-dialog  modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header d-block text-center pb-3 border-bttom\">\r\n                                <h3 class=\"modal-title\" id=\"exampleModalCenterTitle02\">New User</h3>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3 custom-file-small\">\r\n                                            <label for=\"exampleInputText01\" class=\"h5\">Upload Profile Picture</label>\r\n                                            <div class=\"custom-file\">\r\n                                                <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile02\">\r\n                                                <label class=\"custom-file-label\" for=\"inputGroupFile02\">Choose file</label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText2\" class=\"h5\">Full Name</label>\r\n                                            <input v-model=\"name\" type=\"text\" class=\"form-control\" id=\"exampleInputText2\"\r\n                                                placeholder=\"Enter your full name\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText04\" class=\"h5\">Phone Number</label>\r\n                                            <input v-model=\"contact_no\" type=\"text\" class=\"form-control\" id=\"exampleInputText04\"\r\n                                                placeholder=\"Enter phone number\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText006\" class=\"h5\">Email</label>\r\n                                            <input v-model=\"email\" type=\"text\" class=\"form-control\" id=\"exampleInputText006\"\r\n                                                placeholder=\"Enter your Email\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText2\" class=\"h5\">Designation</label>\r\n                                            <select name=\"type\" class=\"form-control\" data-style=\"py-0\">\r\n                                                <option>Type</option>\r\n                                                <option>Trainee</option>\r\n                                                <option>Employee</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText2\" class=\"h5\">Role</label>\r\n                                            <select name=\"type\" class=\"form-control\" data-style=\"py-0\">\r\n                                                <option>Role</option>\r\n                                                <option>Designer</option>\r\n                                                <option>Developer</option>\r\n                                                <option>Manager</option>\r\n                                                <option>BDE</option>\r\n                                                <option>SEO</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText006\" class=\"h5\">Pincode</label>\r\n                                            <input v-model=\"pincode\" type=\"text\" class=\"form-control\" id=\"exampleInputText006\"\r\n                                                placeholder=\"Enter your Pincode\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-6\">\r\n                                        <div class=\"form-group mb-3\">\r\n                                            <label for=\"exampleInputText006\" class=\"h5\">Password</label>\r\n                                            <input v-model=\"password\" type=\"text\" class=\"form-control\" id=\"exampleInputText006\"\r\n                                                placeholder=\"Enter your Password\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-12\">\r\n                                        <div class=\"d-flex flex-wrap align-items-ceter justify-content-center mt-2\">\r\n                                            <div @click=\"createUser\" class=\"btn btn-primary mr-3\" data-dismiss=\"modal\">Save\r\n                                            </div>\r\n                                            <div class=\"btn btn-primary\" data-dismiss=\"modal\" @click=\"closeModal\">Cancel\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"list\" class=\"item-content animate__animated animate__fadeIn active\"\r\n                    data-toggle-extra=\"tab-content\">\r\n                    <div class=\"table-responsive rounded bg-white mb-4\">\r\n                        <table class=\"table mb-0 table-borderless tbl-server-info\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <td v-for=\"(head) in headers\" :key=\"head\" class=\"font-weight-bold\">{{ head }}</td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody v-for=\"(user, index) in users\" :key=\"index\">\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"media align-items-center\">\r\n                                            <img src=\"\" class=\"img-fluid rounded-circle avatar-40\" alt=\"image\">\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        {{ user.name }}\r\n                                    </td>\r\n                                    <td>{{ user.designation }}</td>\r\n                                    <td>{{ user.role }}</td>\r\n                                    <td>{{ user.contact_no }}</td>\r\n                                    <td>{{ user.pincode }}</td>\r\n                                    <td>\r\n                                        <div class=\"d-flex align-items-center\">\r\n                                            <a href=\"#\" class=\"text-body\"><i class=\"las la-pen mr-3\"></i></a>\r\n                                            <a href=\"#\" class=\"text-body\"><i class=\"las la-trash-alt mr-0\"></i></a>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <!-- Page end  -->\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Noty from 'noty'\r\nimport { mapState } from 'vuex'\r\n// import { timestamp } from 'public/assets/vendor/tui-calendar/tui-code-snippet/src/js/tricks';\r\nexport default {\r\n    data() {\r\n        return {\r\n            name:'', email:'',role:'3', contact_no:'', designation:'Full stack developer', pincode:'', password:'',\r\n            isToggled: false,\r\n            isAreaModal: false,\r\n            displayToggle: 'none',\r\n            users: [],\r\n            headers: ['Profile', 'Name', 'Designation', 'Department', 'Contact No.', 'Pincode', 'Actions']\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapState(['authUser'])\r\n    },\r\n    methods: {\r\n        openModal() {\r\n            this.displayToggle = 'block';\r\n            this.isToggled = !this.isToggled;\r\n        },\r\n        createUser() {\r\n            const requestData = {\r\n                email: this.email,\r\n                name:this.name,\r\n                role:this.role,\r\n                contact_no:this.contact_no,\r\n                designation: this.designation,\r\n                pincode: this.pincode,\r\n                password:this.password\r\n            }\r\n            axios.post('http://127.0.0.1:8000/api/create/user/',requestData).then((r)=>{\r\n                console.log(r.status)\r\n                if(r.status == 201){\r\n                    new Noty({\r\n                        type: 'success',\r\n                        text: 'user Created Successfully',\r\n                        timeout: 500,\r\n                    }).show()\r\n                }\r\n                this.getUsers\r\n                this.closeModal\r\n            })\r\n        },\r\n        closeModal() {\r\n            this.displayToggle = 'none';\r\n            this.isToggled = !this.isToggled;\r\n        },\r\n        getUsers(role) {\r\n            console.log(role)\r\n            axios.get('http://127.0.0.1:8000/api/users/', {\r\n                params: { role: role }\r\n            }).then((r) => {\r\n                this.users = r.data.users\r\n            })\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        '$route.params.val': 'getUsers'\r\n    },\r\n    created() {\r\n        this.getUsers(this.$route.params.val)\r\n    }\r\n\r\n}\r\n</script>"],"mappings":"AAyLA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,MAAK;AACtB,SAASC,QAAO,QAAS,MAAK;AAC9B;AACA,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAC,EAAE;MAAEC,KAAK,EAAC,EAAE;MAACC,IAAI,EAAC,GAAG;MAAEC,UAAU,EAAC,EAAE;MAAEC,WAAW,EAAC,sBAAsB;MAAEC,OAAO,EAAC,EAAE;MAAEC,QAAQ,EAAC,EAAE;MACtGC,SAAS,EAAE,KAAK;MAChBC,WAAW,EAAE,KAAK;MAClBC,aAAa,EAAE,MAAM;MACrBC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS;IACjG;EACJ,CAAC;EACDC,QAAQ,EAAC;IACL,GAAGd,QAAQ,CAAC,CAAC,UAAU,CAAC;EAC5B,CAAC;EACDe,OAAO,EAAE;IACLC,SAASA,CAAA,EAAG;MACR,IAAI,CAACL,aAAY,GAAI,OAAO;MAC5B,IAAI,CAACF,SAAQ,GAAI,CAAC,IAAI,CAACA,SAAS;IACpC,CAAC;IACDQ,UAAUA,CAAA,EAAG;MACT,MAAMC,WAAU,GAAI;QAChBf,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBD,IAAI,EAAC,IAAI,CAACA,IAAI;QACdE,IAAI,EAAC,IAAI,CAACA,IAAI;QACdC,UAAU,EAAC,IAAI,CAACA,UAAU;QAC1BC,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BC,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,QAAQ,EAAC,IAAI,CAACA;MAClB;MACAV,KAAK,CAACqB,IAAI,CAAC,wCAAwC,EAACD,WAAW,CAAC,CAACE,IAAI,CAAEC,CAAC,IAAG;QACvEC,OAAO,CAACC,GAAG,CAACF,CAAC,CAACG,MAAM;QACpB,IAAGH,CAAC,CAACG,MAAK,IAAK,GAAG,EAAC;UACf,IAAIzB,IAAI,CAAC;YACL0B,IAAI,EAAE,SAAS;YACfC,IAAI,EAAE,2BAA2B;YACjCC,OAAO,EAAE;UACb,CAAC,CAAC,CAACC,IAAI,CAAC;QACZ;QACA,IAAI,CAACC,QAAO;QACZ,IAAI,CAACC,UAAS;MAClB,CAAC;IACL,CAAC;IACDA,UAAUA,CAAA,EAAG;MACT,IAAI,CAACnB,aAAY,GAAI,MAAM;MAC3B,IAAI,CAACF,SAAQ,GAAI,CAAC,IAAI,CAACA,SAAS;IACpC,CAAC;IACDoB,QAAQA,CAACzB,IAAI,EAAE;MACXkB,OAAO,CAACC,GAAG,CAACnB,IAAI;MAChBN,KAAK,CAACiC,GAAG,CAAC,kCAAkC,EAAE;QAC1CC,MAAM,EAAE;UAAE5B,IAAI,EAAEA;QAAK;MACzB,CAAC,CAAC,CAACgB,IAAI,CAAEC,CAAC,IAAK;QACX,IAAI,CAACT,KAAI,GAAIS,CAAC,CAACpB,IAAI,CAACW,KAAI;MAC5B,CAAC;IACL;EACJ,CAAC;EAEDqB,KAAK,EAAE;IACH,mBAAmB,EAAE;EACzB,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACL,QAAQ,CAAC,IAAI,CAACM,MAAM,CAACH,MAAM,CAACI,GAAG;EACxC;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}